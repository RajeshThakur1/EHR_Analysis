schema: '2.0'
stages:
  load_data:
    cmd: python src/load_data.py --config=params.yaml
    deps:
    - path: data_given/diagnosis.csv
      md5: 7f7c632e763b69d5fbbe53a06b87dd9d
      size: 961454
    - path: data_given/medication.csv
      md5: 986f6fa55718d7acb5ea57fca3b92ebf
      size: 21046945
    - path: data_given/patient.csv
      md5: 99af8214dd646b65d633dda07e081b6f
      size: 464404
    - path: data_given/phy_sp.csv
      md5: 158096f4b59a05cd6f72b38494b53169
      size: 1587812
    - path: data_given/transcript.csv
      md5: 67d1ce9b7a40e692297396f576bb9379
      size: 3281646
    - path: src/get_data.py
      md5: e611986234067000ce2678f32d983b55
      size: 1537
    - path: src/load_data.py
      md5: 91c6a40dea839cf9964b759fcaee65c8
      size: 1308
    outs:
    - path: data/raw/diagnosis.csv
      md5: 0c699129e171f6eb910816e459610108
      size: 989548
    - path: data/raw/medication.csv
      md5: 376d9486ccb351afb4dbb6cb57e730ab
      size: 41124903
    - path: data/raw/patient.csv
      md5: 99af8214dd646b65d633dda07e081b6f
      size: 464404
    - path: data/raw/phy_sp.csv
      md5: 158096f4b59a05cd6f72b38494b53169
      size: 1587812
    - path: data/raw/transcript.csv
      md5: fbb101c9c6b371909100e91a1d4b4d10
      size: 3784056
  split_data:
    cmd: python src/split_data.py --config=params.yaml
    deps:
    - path: src/data_getter.py
      md5: 8fde4a2107b2bcaace7e419b8fd243be
      size: 3218
    - path: src/split_data.py
      md5: 732f03e1a6d5b91d88b2ca162481aff3
      size: 1135
    outs:
    - path: data/processed/test_data.csv
      md5: f3afb7681f08aafd44f046e3a07c2f48
      size: 267786
    - path: data/processed/train_data.csv
      md5: e5c3c5ccc1553746ca4362deec8ebad2
      size: 1070101
  data_getter:
    cmd: python src/data_getter.py --config=params.yaml
    deps:
    - path: data/raw/patient.csv
      md5: 99af8214dd646b65d633dda07e081b6f
      size: 464404
    - path: data/raw/transcript.csv
      md5: fbb101c9c6b371909100e91a1d4b4d10
      size: 3784056
    - path: src/data_getter.py
      md5: 8fde4a2107b2bcaace7e419b8fd243be
      size: 3218
    outs:
    - path: data/processed/concatenated.csv
      md5: 06ea4f8f11038091badb84dbb4e0be57
      size: 1337627
  train_and_evaluate:
    cmd: python src/train_and_evaluate.py --config=params.yaml
    deps:
    - path: data/processed/test_data.csv
      md5: f3afb7681f08aafd44f046e3a07c2f48
      size: 267786
    - path: data/processed/train_data.csv
      md5: e5c3c5ccc1553746ca4362deec8ebad2
      size: 1070101
    - path: src/train_and_evaluate.py
      md5: 1a914c2c26b2b99b5441a83cf1396044
      size: 2525
    params:
      params.yaml:
        estimators.DecisionTreeClassifier.params.criterion: gini
        estimators.DecisionTreeClassifier.params.max_depth: 1
    outs:
    - path: report/params.json
      md5: 6d24740163a6c9e6c468e3d3d0e1f8c2
      size: 47
    - path: report/scores.json
      md5: 2aff5624b446aeffda8a4b63fbfe3d44
      size: 60
    - path: saved_model/model.joblib
      md5: 5567083942ccdcd3245688cac86f9b57
      size: 1583
